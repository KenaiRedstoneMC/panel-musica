<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>ðŸŽª Panel MÃºsica Circo AC</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="manifest" href="manifest.json">

<style>
  body {
    background: #050505;
    color: #fff;
    font-family: Arial, sans-serif;
    padding: 20px;
  }

  h1 {
    text-align: center;
    margin-bottom: 10px;
    font-size: 28px;
  }

  .container {
    max-width: 900px;
    margin: 0 auto;
  }

  .top-bar {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }

  .top-bar input {
    flex: 1;
    padding: 12px;
    border-radius: 12px;
    border: 1px solid #333;
    background: #111;
    color: #fff;
  }

  .top-bar button {
    padding: 12px 16px;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    background: #1e1e1e;
    color: #fff;
    font-weight: bold;
  }

  .top-bar button:hover {
    background: #333;
  }

  .controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    gap: 10px;
    flex-wrap: wrap;
  }

  .loop-btn, .stop-all-btn {
    background: #1e1e1e;
    border: 1px solid #444;
    padding: 10px 14px;
    border-radius: 10px;
    cursor: pointer;
    color: #fff;
  }

  .loop-btn.active {
    background: #00ff7f;
    color: #000;
    border-color: #00ff7f;
  }

  .track {
    background: #111;
    padding: 12px;
    margin: 8px 0;
    border-radius: 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    overflow: hidden;
  }

  .track.active {
    background: #00ff7f;
    color: #000;
  }

  .track-name {
    flex: 1;
    padding-right: 10px;
    font-size: 16px;
  }

  button.play-btn, button.stop-btn {
    font-size: 16px;
    padding: 8px 12px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: #1e1e1e;
    color: #fff;
    margin-left: 6px;
  }

  button.play-btn:hover, button.stop-btn:hover {
    background: #333;
  }

  .audio-player {
    width: 100%;
    margin-top: 10px;
    background: #111;
    border-radius: 12px;
  }

  /* EFECTOS LED */
  .led {
    position: absolute;
    width: 100%;
    height: 6px;
    top: 0;
    left: 0;
    background: linear-gradient(90deg, transparent, #00ff7f, transparent);
    animation: led 2s infinite;
  }

  @keyframes led {
    0% { transform: translateX(-100%); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: translateX(100%); opacity: 0; }
  }

  .volume {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .volume input {
    width: 160px;
  }
</style>
</head>

<body>
<div class="container">
  <h1>ðŸŽª Panel MÃºsica Circo AC</h1>

  <div class="top-bar">
    <input id="search" placeholder="Buscar canciÃ³n...">
    <button id="stopAll" class="stop-all-btn">STOP GENERAL</button>
  </div>

  <div class="controls">
    <div>
      Repetir canciÃ³n:
      <button id="loopBtn" class="loop-btn">OFF</button>
    </div>

    <div class="volume">
      Volumen:
      <input id="vol" type="range" min="0" max="100" value="100">
    </div>
  </div>

  <div id="tracks"></div>

  <audio id="player" controls class="audio-player"></audio>
</div>

<script>
const player = document.getElementById("player");
const tracksContainer = document.getElementById("tracks");
const loopBtn = document.getElementById("loopBtn");
const stopAll = document.getElementById("stopAll");
const search = document.getElementById("search");
const vol = document.getElementById("vol");

player.volume = 1;

let loopOn = false;
loopBtn.addEventListener("click", () => {
  loopOn = !loopOn;
  player.loop = loopOn;
  loopBtn.textContent = loopOn ? "ON" : "OFF";
  loopBtn.classList.toggle("active", loopOn);
});

vol.addEventListener("input", () => {
  player.volume = vol.value / 100;
});

stopAll.addEventListener("click", () => {
  player.pause();
  player.currentTime = 0;
  document.querySelectorAll(".track").forEach(t => t.classList.remove("active"));
});

// Lista de canciones (ordenada alfabÃ©ticamente)
const tracks = [
  {name:"APT", file:"APT. - Sped up Nightcore.mp3"},
  {name:"Ay Mama", file:"Chayanne_-_Ay_Mama.mp3"},
  {name:"Bailes Burgaleses (Puy du Fou)", file:"Bailes Burgaleses (feat. Guilhem Desq) - extrait du spectacle _El Ãšltimo Cantar_ - Puy du Fou EspaÃ±a.mp3"},
  {name:"Bella Donna Twist", file:"Bella Donna Twist [1TgyohHqYPs].mp3"},
  {name:"Bling Bang Born", file:"Bling-Bang-Bang-Born.mp3"},
  {name:"Cars 2 (Main Menu)", file:"Cars 2 ( Its Finn Mcmissile) Soundtrack [AAW2Qd9_Vt4].mp3"},
  {name:"Charleston", file:"Charleston del Siglo de Plata (feat. Richard Harvey).mp3"},
  {name:"Clouds", file:"Clouds_FYsnaLesV3o.mp3"},
  {name:"Dai Allegri Musicanti", file:"Dai Allegri Musicanti [B3PS5n-nVuc].mp3"},
  {name:"Enchantress", file:"Two_Steps_From_Hell_-_Enchantress.mp3"},
  {name:"Epic Emotional", file:"epic-emotional_long-197089.mp3"},
  {name:"Espresso Macchiato", file:"TOMMY CASH - ESPRESSO MACCHIATO.mp3"},
  {name:"Gran Final", file:"musica-de-circo-gran-final-128-ytshorts.savetube.me.mp3"},
  {name:"Gurenge Lisa", file:"gurenge-lisa.mp3"},
  {name:"Ilargi Berriak", file:"Ilargi Berriak.mp3"},
  {name:"Intocables", file:"blocks-intocables.mp3"},
  {name:"Knife Party - LRAD", file:"Knife_Party_-_LRAD_Original_Mix.mp3"},
  {name:"Kurios", file:"NEW__KURIOS_Music__Lyrics_-_Sing_Along_with_us_____Steampunk_Telegram____Cirque_du_Soleil_DoZ293Y1jzo.mp3"},
  {name:"La InvasiÃ³n", file:"La InvasiÃ³n (feat. Pedro Eustache & London Voices).mp3"},
  {name:"Las Ãguilas", file:"Las Ãguilas - La MÃºsica del EspectÃ¡culo _Puy du Fou - EspaÃ±a_.mp3"},
  {name:"Lava Chicken", file:"Minecraft 1.21.7 New Music Disc _Lava Chicken_ [ChEkbiBzILc].mp3"},
  {name:"Los Gavilanes", file:"Los Gavilanes - extrait du spectacle _CetrerÃ­a de Reyes_ - Puy du Fou EspaÃ±a.mp3"},
  {name:"Los Halcones", file:"Los Halcones - La MÃºsica del EspectÃ¡culo _Puy du Fou - EspaÃ±a_.mp3"},
  {name:"Luminary", file:"Luminary.mp3"},
  {name:"Mahalageasca", file:"Mahalageasca - Bucovina Dub.mp3"},
  {name:"MalagueÃ±a", file:"Malaguena.mp3"},
  {name:"Marimba no. 7", file:"Marimba no. 7 - Luzia-yt.savetube.me.mp3"},
  {name:"Most Epic Ever", file:"Most_Epic_Music_Ever___The_Wolf_And_The_Moon__BrunuhVille.mp3"},
  {name:"Musica Circo Chile 2019", file:"musica-de-circo-chile-2019-128-ytshorts.savetube.me.mp3"},
  {name:"Musica Malabares (ingles)", file:"MusicaMalabares.mp3"},
  {name:"Musica Malabares", file:"MÃºsica-para-malabares-_-Circo-_ff8nEfOyzr4_-RECORTADO-A-MEJOR-â€-Hecho-con-Clipchamp.mp3"},
  {name:"Musica epica sin copyright", file:"musica-epica-sin-copyright-gratis-7-128-ytshorts.savetube.me.mp3"},
  {name:"My Beauty", file:"My_Beauty.mp3"},
  {name:"Nails Hair Hips Heels", file:"Nails_Hair_Hips_Heels_Remix.mp3"},
  {name:"Party Rockin", file:"Party Rockin.mp3"},
  {name:"Rafaga - Mentirosa", file:"Rafaga-Mentirosa.mp3"},
  {name:"Resist and Express", file:"Resist and Express.mp3"},
  {name:"SI POR MI FUERA", file:"SI-POR-MI-FUERA-â€-Hecho-con-Clipchamp.mp3"},
  {name:"Skylanders SuperChargers", file:"[â™ªâ™«] Main Theme (Main Menu) _ Skylanders SuperChargers Music [FV1QbTT5hy8].mp3"},
  {name:"Stal Experience", file:"stal-experience_vadim_lisikov.mp3"},
  {name:"Stomps Sonic", file:"stomps-sonic-stomps-232226.mp3"},
  {name:"Supernova Dance Cover", file:"aespa - supernova dance cover by rubÃ©n holgado.mp3"},
  {name:"Superstar", file:"Superstar I [6nSTUK75Prg].mp3"},
  {name:"Tuchat Quevedo", file:"TUCHAT - Quevedo (Official Video).mp3"},
  {name:"The Trooper", file:"Iron_Maiden_-_The_Trooper_1998_Remastered_Version_1998_Remastered_Version_(FeelMP3.com).mp3"},
  {name:"The Top 40 Jugglers of 2023", file:"The Top 40 Jugglers of 2023.mp3"},
  {name:"Thunderstruck", file:"thunderstruck-128-ytshorts.savetube.me.mp3"},
  {name:"Two Steps From Hell - Enchantress", file:"Two_Steps_From_Hell_-_Enchantress.mp3"},
  {name:"You Me", file:"You__Me_320.mp3"},
  {name:"You Must Be Joking", file:"You_Must_Be_Joking.mp3"}
];

// Crea lista de canciones
function safePath(file) {
  return "music/" + encodeURIComponent(file).replace(/%2F/g, "/");
}

function createTracks(list) {
  tracksContainer.innerHTML = "";
  list.forEach(track => {
    const div = document.createElement("div");
    div.className = "track";

    const led = document.createElement("div");
    led.className = "led";
    div.appendChild(led);

    const name = document.createElement("span");
    name.className = "track-name";
    name.textContent = track.name;

    const playBtn = document.createElement("button");
    playBtn.className = "play-btn";
    playBtn.textContent = "â–¶";
    playBtn.onclick = () => {
      document.querySelectorAll(".track").forEach(t => t.classList.remove("active"));
      div.classList.add("active");
      player.src = safePath(track.file);
      player.play();
    };

    const stopBtn = document.createElement("button");
    stopBtn.className = "stop-btn";
    stopBtn.textContent = "â¹";
    stopBtn.onclick = () => {
      player.pause();
      player.currentTime = 0;
      div.classList.remove("active");
    };

    div.appendChild(name);
    div.appendChild(playBtn);
    div.appendChild(stopBtn);

    tracksContainer.appendChild(div);
  });
}

createTracks(tracks);

// Buscador
search.addEventListener("input", () => {
  const query = search.value.toLowerCase();
  const filtered = tracks.filter(t => t.name.toLowerCase().includes(query));
  createTracks(filtered);
});
</script>
</body>
</html>
